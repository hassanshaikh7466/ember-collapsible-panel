{"version":3,"file":"component.js","sources":["../../../src/components/cp-panel/component.js"],"sourcesContent":["/* eslint-disable ember/no-actions-hash, ember/no-classic-classes, ember/no-classic-components, ember/no-component-lifecycle-hooks, ember/no-get, ember/no-incorrect-calls-with-inline-anonymous-functions, ember/require-tagless-components, prettier/prettier */\nimport { scheduleOnce } from '@ember/runloop';\nimport { computed } from '@ember/object';\nimport { and, oneWay, readOnly, not } from '@ember/object/computed';\nimport { macroCondition, dependencySatisfies } from '@embroider/macros';\nimport { inject as service } from '@ember/service';\nimport Component from '@ember/component';\nimport layout from './template';\n\nlet hasLiquidFireDep;\nif (macroCondition(dependencySatisfies('liquid-fire', '*'))) {\n  hasLiquidFireDep = true;\n} else {\n  hasLiquidFireDep = false;\n}\n\nexport default Component.extend({\n  layout,\n\n  panelActions: service(),\n  shouldAnimate: and('hasLiquidFireDep', 'animate'),\n\n  disabled: false,\n  hasLiquidFireDep,\n\n  group: null, // passed in if rendered as part of a {{cp-panels}} group\n\n  classNames: ['cp-Panel'],\n  classNameBindings: ['isOpen:cp-is-open:cp-is-closed', 'disabled:cp-is-disabled'],\n\n  // Caller can overwrite\n  name: oneWay('elementId'),\n\n  panelState: computed('name', function() {\n    const name = this.get('name');\n    return this.get(`panelActions.state.${name}`);\n  }),\n\n  isOpen: readOnly('panelState.isOpen'),\n  isClosed: not('isOpen'),\n\n  panelsWrapper: null,\n  animate: true,\n\n  didReceiveAttrs() {\n    this._super(...arguments);\n\n    // If caller passes in open=, use it\n    if (this.get('open') !== undefined) {\n      this.set('panelState.boundOpenState', this.get('open'));\n    }\n  },\n\n  // Register with parent panels component\n  didInsertElement() {\n    this._super(...arguments);\n    scheduleOnce('afterRender', () => {\n      let group = this.get('group');\n\n      if (group) {\n        this.get('panelState').set('group', group);\n      }\n    });\n  },\n\n  // Custom action called when toggling that can be provided by caller\n  didToggle() {},\n\n  actions: {\n    toggleIsOpen() {\n      if (this.get(\"disabled\")) {\n        return;\n      }\n      let name = this.get('name');\n\n      this.get('panelActions').toggle(name);\n\n      this.didToggle(name);\n    }\n  }\n});\n"],"names":["hasLiquidFireDep","macroCondition","dependencySatisfies","Component","extend","layout","panelActions","service","shouldAnimate","and","disabled","group","classNames","classNameBindings","name","oneWay","panelState","computed","get","isOpen","readOnly","isClosed","not","panelsWrapper","animate","didReceiveAttrs","_super","arguments","undefined","set","didInsertElement","scheduleOnce","didToggle","actions","toggleIsOpen","toggle"],"mappings":";;;;;;;;AAAA;AASA,IAAIA,gBAAgB,CAAA;AACpB,IAAIC,cAAc,CAACC,mBAAmB,CAAC,aAAa,EAAE,GAAG,CAAC,CAAC,EAAE;AAC3DF,EAAAA,gBAAgB,GAAG,IAAI,CAAA;AACzB,CAAC,MAAM;AACLA,EAAAA,gBAAgB,GAAG,KAAK,CAAA;AAC1B,CAAA;AAEA,gBAAeG,SAAS,CAACC,MAAM,CAAC;EAC9BC,MAAM;EAENC,YAAY,EAAEC,MAAO,EAAE;AACvBC,EAAAA,aAAa,EAAEC,GAAG,CAAC,kBAAkB,EAAE,SAAS,CAAC;AAEjDC,EAAAA,QAAQ,EAAE,KAAK;EACfV,gBAAgB;AAEhBW,EAAAA,KAAK,EAAE,IAAI;AAAE;;EAEbC,UAAU,EAAE,CAAC,UAAU,CAAC;AACxBC,EAAAA,iBAAiB,EAAE,CAAC,gCAAgC,EAAE,yBAAyB,CAAC;AAEhF;AACAC,EAAAA,IAAI,EAAEC,MAAM,CAAC,WAAW,CAAC;AAEzBC,EAAAA,UAAU,EAAEC,QAAQ,CAAC,MAAM,EAAE,YAAW;AACtC,IAAA,MAAMH,IAAI,GAAG,IAAI,CAACI,GAAG,CAAC,MAAM,CAAC,CAAA;AAC7B,IAAA,OAAO,IAAI,CAACA,GAAG,CAAE,CAAqBJ,mBAAAA,EAAAA,IAAK,EAAC,CAAC,CAAA;AAC/C,GAAC,CAAC;AAEFK,EAAAA,MAAM,EAAEC,QAAQ,CAAC,mBAAmB,CAAC;AACrCC,EAAAA,QAAQ,EAAEC,GAAG,CAAC,QAAQ,CAAC;AAEvBC,EAAAA,aAAa,EAAE,IAAI;AACnBC,EAAAA,OAAO,EAAE,IAAI;AAEbC,EAAAA,eAAeA,GAAG;AAChB,IAAA,IAAI,CAACC,MAAM,CAAC,GAAGC,SAAS,CAAC,CAAA;;AAEzB;IACA,IAAI,IAAI,CAACT,GAAG,CAAC,MAAM,CAAC,KAAKU,SAAS,EAAE;MAClC,IAAI,CAACC,GAAG,CAAC,2BAA2B,EAAE,IAAI,CAACX,GAAG,CAAC,MAAM,CAAC,CAAC,CAAA;AACzD,KAAA;GACD;AAED;AACAY,EAAAA,gBAAgBA,GAAG;AACjB,IAAA,IAAI,CAACJ,MAAM,CAAC,GAAGC,SAAS,CAAC,CAAA;IACzBI,YAAY,CAAC,aAAa,EAAE,MAAM;AAChC,MAAA,IAAIpB,KAAK,GAAG,IAAI,CAACO,GAAG,CAAC,OAAO,CAAC,CAAA;AAE7B,MAAA,IAAIP,KAAK,EAAE;QACT,IAAI,CAACO,GAAG,CAAC,YAAY,CAAC,CAACW,GAAG,CAAC,OAAO,EAAElB,KAAK,CAAC,CAAA;AAC5C,OAAA;AACF,KAAC,CAAC,CAAA;GACH;AAED;EACAqB,SAASA,GAAG,EAAE;AAEdC,EAAAA,OAAO,EAAE;AACPC,IAAAA,YAAYA,GAAG;AACb,MAAA,IAAI,IAAI,CAAChB,GAAG,CAAC,UAAU,CAAC,EAAE;AACxB,QAAA,OAAA;AACF,OAAA;AACA,MAAA,IAAIJ,IAAI,GAAG,IAAI,CAACI,GAAG,CAAC,MAAM,CAAC,CAAA;MAE3B,IAAI,CAACA,GAAG,CAAC,cAAc,CAAC,CAACiB,MAAM,CAACrB,IAAI,CAAC,CAAA;AAErC,MAAA,IAAI,CAACkB,SAAS,CAAClB,IAAI,CAAC,CAAA;AACtB,KAAA;AACF,GAAA;AACF,CAAC,CAAC;;;;"}